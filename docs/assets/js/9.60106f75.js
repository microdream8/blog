(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{163:function(a,t,r){a.exports=r.p+"assets/img/wp_1.5cc17a09.jpeg"},230:function(a,t,r){a.exports=r.p+"assets/img/wp_2.8aafd44a.jpeg"},267:function(a,t,r){"use strict";r.r(t);var s=r(28),e=Object(s.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"webpack相关的性能优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack相关的性能优化"}},[a._v("#")]),a._v(" webpack相关的性能优化")]),a._v(" "),s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[a._v("#")]),a._v(" 前言")]),a._v(" "),s("p",[a._v("Webpack优化可以分为"),s("b",[a._v("优化开发体验")]),a._v("和"),s("b",[a._v("优化输出质量")]),a._v("两部分")]),a._v(" "),s("h3",{attrs:{id:"优化开发体验"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#优化开发体验"}},[a._v("#")]),a._v(" 优化开发体验")]),a._v(" "),s("p",[a._v("优化开发体验的目的是为了提升开发时的效率，其中又可以分为以下几点：")]),a._v(" "),s("h4",{attrs:{id:"优化构建速度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#优化构建速度"}},[a._v("#")]),a._v(" 优化构建速度")]),a._v(" "),s("p",[a._v("在项目庞大时构建耗时可能会变的很长，每次等待构建的耗时加起来也会是个大数目。")]),a._v(" "),s("h5",{attrs:{id:"缩小文件搜索范围"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#缩小文件搜索范围"}},[a._v("#")]),a._v(" 缩小文件搜索范围")]),a._v(" "),s("ol",[s("li",[a._v("在配置 Loader 时通过 include 去缩小命中范围")])]),a._v(" "),s("img",{staticStyle:{width:"80%"},attrs:{src:r(163)}}),a._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[a._v("优化 resolve.modules 配置，指明存放第三方模块的绝对路径，以减少寻找，配置如下：")])]),a._v(" "),s("img",{staticStyle:{width:"80%"},attrs:{src:r(163)}}),a._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[s("p",[a._v("优化 resolve.mainFields 配置")])]),a._v(" "),s("li",[s("p",[a._v("优化 resolve.alias 配置")])]),a._v(" "),s("li",[s("p",[a._v("优化 resolve.extensions 配置\n在配置 resolve.extensions 时你需要遵守以下几点，以做到尽可能的优化构建性能：")])])]),a._v(" "),s("ul",[s("li",[a._v("后缀尝试列表要尽可能的小，不要把项目中不可能存在的情况写到后缀尝试列表中。")]),a._v(" "),s("li",[a._v("频率出现最高的文件后缀要优先放在最前面，以做到尽快的退出寻找过程。")]),a._v(" "),s("li",[a._v("在源码中写导入语句时，要尽可能的带上后缀，从而可以避免寻找过程。例如在你确定的情况下把 require('./data') 写成 require('./data.json')。")])]),a._v(" "),s("img",{staticStyle:{width:"80%"},attrs:{src:r(230)}}),a._v(" "),s("ol",{attrs:{start:"6"}},[s("li",[a._v("优化 module.noParse 配置")])]),a._v(" "),s("h5",{attrs:{id:"使用-dllplugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-dllplugin"}},[a._v("#")]),a._v(" 使用 DllPlugin")]),a._v(" "),s("p",[a._v("为什么给 Web 项目构建接入 动态链接库 的思想后，会大大提升构建速度呢？ 原因在于包含大量复用模块的动态链接库只需要编译一次，在之后的构建过程中被动态链接库包含的模块将不会在重新编译，而是直接使用动态链接库中的代码。 由于动态链接库中大多数包含的是常用的第三方模块，例如 react、react-dom，只要不升级这些模块的版本，动态链接库就不用重新编译。")]),a._v(" "),s("h5",{attrs:{id:"使用-happypack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-happypack"}},[a._v("#")]),a._v(" 使用 HappyPack")]),a._v(" "),s("p",[a._v("在整个 Webpack 构建流程中，最耗时的流程可能就是 Loader 对文件的转换操作了，因为要转换的文件数据巨多，而且这些转换操作都只能一个个挨着处理。（运行在 Node.js 之上的 Webpack 是单线程模型的）")]),a._v(" "),s("p",[a._v("HappyPack的核心原理就是把这部分任务分解到多个进程去并行处理，从而减少了总的构建时间。")]),a._v(" "),s("h5",{attrs:{id:"使用-paralleluglifyplugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-paralleluglifyplugin"}},[a._v("#")]),a._v(" 使用 ParallelUglifyPlugin")]),a._v(" "),s("p",[a._v("ParallelUglifyPlugin 会开启多个子进程，把对多个文件的压缩工作分配给多个子进程去完成，每个子进程其实还是通过 UglifyJS去压缩代码，但是变成了并行执行。 所以 ParallelUglifyPlugin 能更快的完成对多个文件的压缩工作。")]),a._v(" "),s("h4",{attrs:{id:"优化使用体验"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#优化使用体验"}},[a._v("#")]),a._v(" 优化使用体验")]),a._v(" "),s("p",[a._v("通过自动化手段完成一些重复的工作，让我们专注于解决问题本身。")]),a._v(" "),s("h5",{attrs:{id:"使用自动刷新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用自动刷新"}},[a._v("#")]),a._v(" 使用自动刷新")]),a._v(" "),s("p",[a._v("使用 webpack 模块负责监听文件，webpack-dev-server 模块则负责刷新浏览器。")]),a._v(" "),s("h5",{attrs:{id:"开启模块热替换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开启模块热替换"}},[a._v("#")]),a._v(" 开启模块热替换")]),a._v(" "),s("h3",{attrs:{id:"优化输出质量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#优化输出质量"}},[a._v("#")]),a._v(" 优化输出质量")]),a._v(" "),s("p",[a._v("优化输出质量的目的是为了给用户呈现体验更好的网页，例如减少首屏加载时间、提升性能流畅度等。 这至关重要，因为在互联网行业竞争日益激烈的今天，这可能关系到你的产品的生死。")]),a._v(" "),s("p",[a._v("优化输出质量本质是优化构建输出的要发布到线上的代码，分为以下几点：")]),a._v(" "),s("h4",{attrs:{id:"减少用户能感知到的加载时间，也就是首屏加载时间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#减少用户能感知到的加载时间，也就是首屏加载时间"}},[a._v("#")]),a._v(" 减少用户能感知到的加载时间，也就是首屏加载时间")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("区分环境")])]),a._v(" "),s("li",[s("p",[a._v("压缩代码")])]),a._v(" "),s("li",[s("p",[a._v("CDN加速")])]),a._v(" "),s("li",[s("p",[a._v("使用Tree Shaking\nTree Shaking 可以用来剔除 JavaScript 中用不上的死代码（没用到的代码）。它依赖静态的 ES6 模块化语法，例如通过 import 和 export 导入导出。")])]),a._v(" "),s("li",[s("p",[a._v("提取公共代码")])]),a._v(" "),s("li",[s("p",[a._v("按需加载")])])]),a._v(" "),s("h4",{attrs:{id:"提升流畅度，也就是提升代码性能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#提升流畅度，也就是提升代码性能"}},[a._v("#")]),a._v(" 提升流畅度，也就是提升代码性能")]),a._v(" "),s("ol",[s("li",[a._v("使用 Prepack")]),a._v(" "),s("li",[a._v("开启 Scope Hoisting")])])])}),[],!1,null,null,null);t.default=e.exports}}]);